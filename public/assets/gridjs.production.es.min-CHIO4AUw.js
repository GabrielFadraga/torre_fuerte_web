import{r as e}from"./rolldown-runtime-CfGRqpz5.js";import{t}from"./react-DJsWyyNl.js";import{t as n}from"./react-dom-BWiuYT5y.js";var r=e(t());function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,typeof(i=function(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,`string`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return String(e)}(r.key))==`symbol`?i:String(i),r)}var i}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if(typeof e==`string`)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&typeof e.length==`number`){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f;(function(e){e[e.Init=0]=`Init`,e[e.Loading=1]=`Loading`,e[e.Loaded=2]=`Loaded`,e[e.Rendered=3]=`Rendered`,e[e.Error=4]=`Error`})(f||={});var p,m,h,g,_,v,y,b={},x=[],S=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(e,t){for(var n in t)e[n]=t[n];return e}function w(e){var t=e.parentNode;t&&t.removeChild(e)}function T(e,t,n){var r,i,a,o={};for(a in t)a==`key`?r=t[a]:a==`ref`?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?p.call(arguments,2):n),typeof e==`function`&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return E(e,o,r,i,null)}function E(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++h};return i==null&&m.vnode!=null&&m.vnode(a),a}function D(){return{current:null}}function O(e){return e.children}function k(e,t){this.props=e,this.context=t}function A(e,t){if(t==null)return e.__?A(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type==`function`?A(e):null}function ee(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ee(e)}}function te(e){(!e.__d&&(e.__d=!0)&&_.push(e)&&!ne.__r++||v!==m.debounceRendering)&&((v=m.debounceRendering)||setTimeout)(ne)}function ne(){for(var e;ne.__r=_.length;)e=_.sort(function(e,t){return e.__v.__b-t.__v.__b}),_=[],e.some(function(e){var t,n,r,i,a,o;e.__d&&(a=(i=(t=e).__v).__e,(o=t.__P)&&(n=[],(r=C({},i)).__v=i.__v+1,ue(o,i,r,t.__n,o.ownerSVGElement!==void 0,i.__h==null?null:[a],n,a??A(i),i.__h),de(n,i),i.__e!=a&&ee(i)))})}function re(e,t,n,r,i,a,o,s,c,l){var u,d,f,p,m,h,g,_=r&&r.__k||x,v=_.length;for(n.__k=[],u=0;u<t.length;u++)if((p=n.__k[u]=(p=t[u])==null||typeof p==`boolean`?null:typeof p==`string`||typeof p==`number`||typeof p==`bigint`?E(null,p,null,null,p):Array.isArray(p)?E(O,{children:p},null,null,null):p.__b>0?E(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(f=_[u])===null||f&&p.key==f.key&&p.type===f.type)_[u]=void 0;else for(d=0;d<v;d++){if((f=_[d])&&p.key==f.key&&p.type===f.type){_[d]=void 0;break}f=null}ue(e,p,f||=b,i,a,o,s,c,l),m=p.__e,(d=p.ref)&&f.ref!=d&&(g||=[],f.ref&&g.push(f.ref,null,p),g.push(d,p.__c||m,p)),m==null?c&&f.__e==c&&c.parentNode!=e&&(c=A(f)):(h??=m,typeof p.type==`function`&&p.__k===f.__k?p.__d=c=ie(p,c,e):c=ae(e,p,f,_,m,c),typeof n.type==`function`&&(n.__d=c))}for(n.__e=h,u=v;u--;)_[u]!=null&&me(_[u],_[u]);if(g)for(u=0;u<g.length;u++)pe(g[u],g[++u],g[++u])}function ie(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type==`function`?ie(r,t,n):ae(n,r,r,i,r.__e,t));return t}function ae(e,t,n,r,i,a){var o,s,c;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||i!=a||i.parentNode==null)t:if(a==null||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,c=0;(s=s.nextSibling)&&c<r.length;c+=1)if(s==i)break t;e.insertBefore(i,a),o=a}return o===void 0?i.nextSibling:o}function oe(e,t,n){t[0]===`-`?e.setProperty(t,n):e[t]=n==null?``:typeof n!=`number`||S.test(t)?n:n+`px`}function se(e,t,n,r,i){var a;t:if(t===`style`)if(typeof n==`string`)e.style.cssText=n;else{if(typeof r==`string`&&(e.style.cssText=r=``),r)for(t in r)n&&t in n||oe(e.style,t,``);if(n)for(t in n)r&&n[t]===r[t]||oe(e.style,t,n[t])}else if(t[0]===`o`&&t[1]===`n`)a=t!==(t=t.replace(/Capture$/,``)),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||={},e.l[t+a]=n,n?r||e.addEventListener(t,a?le:ce,a):e.removeEventListener(t,a?le:ce,a);else if(t!==`dangerouslySetInnerHTML`){if(i)t=t.replace(/xlink(H|:h)/,`h`).replace(/sName$/,`s`);else if(t!==`href`&&t!==`list`&&t!==`form`&&t!==`tabIndex`&&t!==`download`&&t in e)try{e[t]=n??``;break t}catch{}typeof n==`function`||(n==null||!1===n&&t.indexOf(`-`)==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function ce(e){this.l[e.type+!1](m.event?m.event(e):e)}function le(e){this.l[e.type+!0](m.event?m.event(e):e)}function ue(e,t,n,r,i,a,o,s,c){var l,u,d,f,p,h,g,_,v,y,b,x,S,w,T,E=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(l=m.__b)&&l(t);try{t:if(typeof E==`function`){if(_=t.props,v=(l=E.contextType)&&r[l.__c],y=l?v?v.props.value:l.__:r,n.__c?g=(u=t.__c=n.__c).__=u.__E:(`prototype`in E&&E.prototype.render?t.__c=u=new E(_,y):(t.__c=u=new k(_,y),u.constructor=E,u.render=he),v&&v.sub(u),u.props=_,u.state||={},u.context=y,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s??=u.state,E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=C({},u.__s)),C(u.__s,E.getDerivedStateFromProps(_,u.__s))),f=u.props,p=u.state,d)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&_!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(_,y),!u.__e&&u.shouldComponentUpdate!=null&&!1===u.shouldComponentUpdate(_,u.__s,y)||t.__v===n.__v){for(u.props=_,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&o.push(u);break t}u.componentWillUpdate!=null&&u.componentWillUpdate(_,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,p,h)})}if(u.context=y,u.props=_,u.__v=t,u.__P=e,x=m.__r,S=0,`prototype`in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,x&&x(t),l=u.render(u.props,u.state,u.context),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[]}else do u.__d=!1,x&&x(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(r=C(C({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(h=u.getSnapshotBeforeUpdate(f,p)),T=l!=null&&l.type===O&&l.key==null?l.props.children:l,re(e,Array.isArray(T)?T:[T],t,n,r,i,a,o,s,c),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),g&&(u.__E=u.__=null),u.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=fe(n.__e,t,n,r,i,a,o,c);(l=m.diffed)&&l(t)}catch(e){t.__v=null,(c||a!=null)&&(t.__e=s,t.__h=!!c,a[a.indexOf(s)]=null),m.__e(e,t,n)}}function de(e,t){m.__c&&m.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){m.__e(e,t.__v)}})}function fe(e,t,n,r,i,a,o,s){var c,l,u,d=n.props,f=t.props,m=t.type,h=0;if(m===`svg`&&(i=!0),a!=null){for(;h<a.length;h++)if((c=a[h])&&`setAttribute`in c==!!m&&(m?c.localName===m:c.nodeType===3)){e=c,a[h]=null;break}}if(e==null){if(m===null)return document.createTextNode(f);e=i?document.createElementNS(`http://www.w3.org/2000/svg`,m):document.createElement(m,f.is&&f),a=null,s=!1}if(m===null)d===f||s&&e.data===f||(e.data=f);else{if(a&&=p.call(e.childNodes),l=(d=n.props||b).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||``))}if(function(e,t,n,r,i){for(var a in n)a===`children`||a===`key`||a in t||se(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!=`function`||a===`children`||a===`key`||a===`value`||a===`checked`||n[a]===t[a]||se(e,a,t[a],n[a],r)}(e,f,d,i,s),u)t.__k=[];else if(h=t.props.children,re(e,Array.isArray(h)?h:[h],t,n,r,i&&m!==`foreignObject`,a,o,a?a[0]:n.__k&&A(n,0),s),a!=null)for(h=a.length;h--;)a[h]!=null&&w(a[h]);s||(`value`in f&&(h=f.value)!==void 0&&(h!==e.value||m===`progress`&&!h||m===`option`&&h!==d.value)&&se(e,`value`,h,d.value,!1),`checked`in f&&(h=f.checked)!==void 0&&h!==e.checked&&se(e,`checked`,h,d.checked,!1))}return e}function pe(e,t,n){try{typeof e==`function`?e(t):e.current=t}catch(e){m.__e(e,n)}}function me(e,t,n){var r,i;if(m.unmount&&m.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||pe(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){m.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&me(r[i],t,n||typeof e.type!=`function`);n||e.__e==null||w(e.__e),e.__=e.__e=e.__d=void 0}function he(e,t,n){return this.constructor(e,n)}function j(e,t,n){var r,i,a;m.__&&m.__(e,t),i=(r=typeof n==`function`)?null:n&&n.__k||t.__k,a=[],ue(t,e=(!r&&n||t).__k=T(O,null,[e]),i||b,b,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?p.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),de(a,e)}function ge(){return`xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`.replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e==`x`?t:3&t|8).toString(16)})}p=x.slice,m={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},h=0,g=function(e){return e!=null&&e.constructor===void 0},k.prototype.setState=function(e,t){var n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state);typeof e==`function`&&(e=e(C({},n),this.props)),e&&C(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),te(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),te(this))},k.prototype.render=O,_=[],ne.__r=0,y=0;var M=function(){function e(e){this._id=void 0,this._id=e||ge()}return a(e,[{key:`id`,get:function(){return this._id}}]),e}();function _e(e){return T(e.parentElement||`span`,{dangerouslySetInnerHTML:{__html:e.content}})}function ve(e,t){return T(_e,{content:e,parentElement:t})}var N,ye=function(e){function t(t){var n;return(n=e.call(this)||this).data=void 0,n.update(t),n}s(t,e);var n=t.prototype;return n.cast=function(e){return e instanceof HTMLElement?ve(e.outerHTML):e},n.update=function(e){return this.data=this.cast(e),this},t}(M),be=function(e){function t(t){var n;return(n=e.call(this)||this)._cells=void 0,n.cells=t||[],n}s(t,e);var n=t.prototype;return n.cell=function(e){return this._cells[e]},n.toArray=function(){return this.cells.map(function(e){return e.data})},t.fromCells=function(e){return new t(e.map(function(e){return new ye(e.data)}))},a(t,[{key:`cells`,get:function(){return this._cells},set:function(e){this._cells=e}},{key:`length`,get:function(){return this.cells.length}}]),t}(M),P=function(e){function t(t){var n;return(n=e.call(this)||this)._rows=void 0,n._length=void 0,n.rows=t instanceof Array?t:t instanceof be?[t]:[],n}return s(t,e),t.prototype.toArray=function(){return this.rows.map(function(e){return e.toArray()})},t.fromRows=function(e){return new t(e.map(function(e){return be.fromCells(e.cells)}))},t.fromArray=function(e){return new t((e=function(e){return!e[0]||e[0]instanceof Array?e:[e]}(e)).map(function(e){return new be(e.map(function(e){return new ye(e)}))}))},a(t,[{key:`rows`,get:function(){return this._rows},set:function(e){this._rows=e}},{key:`length`,get:function(){return this._length||this.rows.length},set:function(e){this._length=e}}]),t}(M),xe=function(){function e(){this.callbacks=void 0}var t=e.prototype;return t.init=function(e){this.callbacks||={},e&&!this.callbacks[e]&&(this.callbacks[e]=[])},t.listeners=function(){return this.callbacks},t.on=function(e,t){return this.init(e),this.callbacks[e].push(t),this},t.off=function(e,t){var n=e;return this.init(),this.callbacks[n]&&this.callbacks[n].length!==0&&(this.callbacks[n]=this.callbacks[n].filter(function(e){return e!=t})),this},t.emit=function(e){var t=arguments,n=e;return this.init(n),this.callbacks[n].length>0&&(this.callbacks[n].forEach(function(e){return e.apply(void 0,[].slice.call(t,1))}),!0)},e}();function Se(e,t){if(typeof e!=typeof t)return!1;if(e===null&&t===null)return!0;if(typeof e!=`object`)return e===t;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Se(e[n],t[n]))return!1;return!0}if(e.hasOwnProperty(`constructor`)&&t.hasOwnProperty(`constructor`)&&e.hasOwnProperty(`props`)&&t.hasOwnProperty(`props`)&&e.hasOwnProperty(`key`)&&t.hasOwnProperty(`key`)&&e.hasOwnProperty(`ref`)&&t.hasOwnProperty(`ref`)&&e.hasOwnProperty(`type`)&&t.hasOwnProperty(`type`))return Se(e.props,t.props);var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(!t.hasOwnProperty(s)||!Se(e[s],t[s]))return!1}return!0}(function(e){e[e.Initiator=0]=`Initiator`,e[e.ServerFilter=1]=`ServerFilter`,e[e.ServerSort=2]=`ServerSort`,e[e.ServerLimit=3]=`ServerLimit`,e[e.Extractor=4]=`Extractor`,e[e.Transformer=5]=`Transformer`,e[e.Filter=6]=`Filter`,e[e.Sort=7]=`Sort`,e[e.Limit=8]=`Limit`})(N||={});var F=function(e){function t(t){var n;return(n=e.call(this)||this).id=void 0,n._props=void 0,n._props={},n.id=ge(),t&&n.setProps(t),n}s(t,e);var n=t.prototype;return n.process=function(){var e=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,e),this.emit.apply(this,[`beforeProcess`].concat(e));var t=this._process.apply(this,e);return this.emit.apply(this,[`afterProcess`].concat(e)),t},n.setProps=function(e){var t=o({},this._props,e);return Se(t,this._props)||(this._props=t,this.emit(`propsUpdated`,this)),this},a(t,[{key:`props`,get:function(){return this._props}}]),t}(xe),Ce=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){return this.props.keyword?(t=String(this.props.keyword).trim(),n=this.props.columns,r=this.props.ignoreHiddenColumns,i=e,a=this.props.selector,t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,`\\$&`),new P(i.rows.filter(function(e,i){return e.cells.some(function(e,o){if(!e||r&&n&&n[o]&&typeof n[o]==`object`&&n[o].hidden)return!1;var s=``;if(typeof a==`function`)s=a(e.data,i,o);else if(typeof e.data==`object`){var c=e.data;c&&c.props&&c.props.content&&(s=c.props.content)}else s=String(e.data);return new RegExp(t,`gi`).test(s)})}))):e;var t,n,r,i,a},a(t,[{key:`type`,get:function(){return N.Filter}}]),t}(F);function I(){return`gridjs`+[].slice.call(arguments).reduce(function(e,t){return e+`-`+t},``)}function L(){return[].slice.call(arguments).map(function(e){return e?e.toString():``}).filter(function(e){return e}).reduce(function(e,t){return(e||``)+` `+t},``).trim()}var R,z,we,Te,Ee=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){if(!this.props.keyword)return e;var t={};return this.props.url&&(t.url=this.props.url(e.url,this.props.keyword)),this.props.body&&(t.body=this.props.body(e.body,this.props.keyword)),o({},e,t)},a(t,[{key:`type`,get:function(){return N.ServerFilter}}]),t}(F),B=0,De=[],Oe=[],ke=m.__b,Ae=m.__r,je=m.diffed,Me=m.__c,Ne=m.unmount;function V(e,t){m.__h&&m.__h(z,e,B||t),B=0;var n=z.__H||={__:[],__h:[]};return e>=n.__.length&&n.__.push({__V:Oe}),n.__[e]}function H(e){return B=1,function(e,t,n){var r=V(R++,2);if(r.t=e,!r.__c&&(r.__=[Be(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=z,!z.u)){z.u=!0;var i=z.shouldComponentUpdate;z.shouldComponentUpdate=function(e,t,n){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter(function(e){return e.__c});if(a.every(function(e){return!e.__N}))return!i||i.call(this,e,t,n);var o=!1;return a.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),!(!o&&r.__c.props===e)&&(!i||i.call(this,e,t,n))}}return r.__N||r.__}(Be,e)}function U(e,t){var n=V(R++,3);!m.__s&&ze(n.__H,t)&&(n.__=e,n.i=t,z.__H.__h.push(n))}function W(e){return B=5,Pe(function(){return{current:e}},[])}function Pe(e,t){var n=V(R++,7);return ze(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Fe(){for(var e;e=De.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(G),e.__H.__h.forEach(Re),e.__H.__h=[]}catch(t){e.__H.__h=[],m.__e(t,e.__v)}}m.__b=function(e){z=null,ke&&ke(e)},m.__r=function(e){Ae&&Ae(e),R=0;var t=(z=e.__c).__H;t&&(we===z?(t.__h=[],z.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=Oe,e.__N=e.i=void 0})):(t.__h.forEach(G),t.__h.forEach(Re),t.__h=[])),we=z},m.diffed=function(e){je&&je(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(De.push(t)!==1&&Te===m.requestAnimationFrame||((Te=m.requestAnimationFrame)||Le)(Fe)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==Oe&&(e.__=e.__V),e.i=void 0,e.__V=Oe})),we=z=null},m.__c=function(e,t){t.some(function(e){try{e.__h.forEach(G),e.__h=e.__h.filter(function(e){return!e.__||Re(e)})}catch(n){t.some(function(e){e.__h&&=[]}),t=[],m.__e(n,e.__v)}}),Me&&Me(e,t)},m.unmount=function(e){Ne&&Ne(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{G(e)}catch(e){t=e}}),n.__H=void 0,t&&m.__e(t,n.__v))};var Ie=typeof requestAnimationFrame==`function`;function Le(e){var t,n=function(){clearTimeout(r),Ie&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ie&&(t=requestAnimationFrame(n))}function G(e){var t=z,n=e.__c;typeof n==`function`&&(e.__c=void 0,n()),z=t}function Re(e){var t=z;e.__c=e.__(),z=t}function ze(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Be(e,t){return typeof t==`function`?t(e):t}function K(){return function(e){var t=z.context[e.__c],n=V(R++,9);return n.c=e,t?(n.__??(n.__=!0,t.sub(z)),t.props.value):e.__}(mt)}var Ve={search:{placeholder:`Type a keyword...`},sort:{sortAsc:`Sort column ascending`,sortDesc:`Sort column descending`},pagination:{previous:`Previous`,next:`Next`,navigate:function(e,t){return`Page `+e+` of `+t},page:function(e){return`Page `+e},showing:`Showing`,of:`of`,to:`to`,results:`results`},loading:`Loading...`,noRecordsFound:`No matching records found`,error:`An error happened while fetching the data`},He=function(){function e(e){this._language=void 0,this._defaultLanguage=void 0,this._language=e,this._defaultLanguage=Ve}var t=e.prototype;return t.getString=function(e,t){if(!t||!e)return null;var n=e.split(`.`),r=n[0];if(t[r]){var i=t[r];return typeof i==`string`?function(){return i}:typeof i==`function`?i:this.getString(n.slice(1).join(`.`),i)}return null},t.translate=function(e){var t;return(t=this.getString(e,this._language)||this.getString(e,this._defaultLanguage))?t.apply(void 0,[].slice.call(arguments,1)):e},e}();function Ue(){var e=K();return function(t){var n;return(n=e.translator).translate.apply(n,[t].concat([].slice.call(arguments,1)))}}var We=function(e){return function(t){return o({},t,{search:{keyword:e}})}};function q(){return K().store}function J(e){var t=q(),n=H(e(t.getState())),r=n[0],i=n[1];return U(function(){return t.subscribe(function(){var n=e(t.getState());r!==n&&i(n)})},[]),r}function Ge(){var e=H(void 0),t=e[0],n=e[1],r=K(),i=r.search,a=Ue(),o=q().dispatch,s=J(function(e){return e.search});U(function(){t&&t.setProps({keyword:s?.keyword})},[s,t]),U(function(){n(i.server?new Ee({keyword:i.keyword,url:i.server.url,body:i.server.body}):new Ce({keyword:i.keyword,columns:r.header&&r.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&o(We(i.keyword))},[i]),U(function(){if(t)return r.pipeline.register(t),function(){return r.pipeline.unregister(t)}},[r,t]);var c,l,u,d=function(e,t){return B=8,Pe(function(){return e},t)}((c=function(e){e.target instanceof HTMLInputElement&&o(We(e.target.value))},l=t instanceof Ee?i.debounceTimeout||250:0,function(){var e=arguments;return new Promise(function(t){u&&clearTimeout(u),u=setTimeout(function(){return t(c.apply(void 0,[].slice.call(e)))},l)})}),[i,t]);return T(`div`,{className:I(L(`search`,r.className?.search))},T(`input`,{type:`search`,placeholder:a(`search.placeholder`),"aria-label":a(`search.placeholder`),onInput:d,className:L(I(`input`),I(`search`,`input`)),defaultValue:s?.keyword||``}))}var Ke=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error(`Invalid parameters passed`)},n._process=function(e){var t=this.props.page;return new P(e.rows.slice(t*this.props.limit,(t+1)*this.props.limit))},a(t,[{key:`type`,get:function(){return N.Limit}}]),t}(F),qe=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){var t={};return this.props.url&&(t.url=this.props.url(e.url,this.props.page,this.props.limit)),this.props.body&&(t.body=this.props.body(e.body,this.props.page,this.props.limit)),o({},e,t)},a(t,[{key:`type`,get:function(){return N.ServerLimit}}]),t}(F);function Je(){var e=K(),t=e.pagination,n=t.server,r=t.summary,i=r===void 0||r,a=t.nextButton,o=a===void 0||a,s=t.prevButton,c=s===void 0||s,l=t.buttonsCount,u=l===void 0?3:l,d=t.limit,f=d===void 0?10:d,p=t.page,m=p===void 0?0:p,h=t.resetPageOnUpdate,g=h===void 0||h,_=W(null),v=H(m),y=v[0],b=v[1],x=H(0),S=x[0],C=x[1],w=Ue();U(function(){return n?(_.current=new qe({limit:f,page:y,url:n.url,body:n.body}),e.pipeline.register(_.current)):(_.current=new Ke({limit:f,page:y}),e.pipeline.register(_.current)),_.current instanceof qe?e.pipeline.on(`afterProcess`,function(e){return C(e.length)}):_.current instanceof Ke&&_.current.on(`beforeProcess`,function(e){return C(e.length)}),e.pipeline.on(`updated`,E),e.pipeline.on(`error`,function(){C(0),b(0)}),function(){e.pipeline.unregister(_.current),e.pipeline.off(`updated`,E)}},[]);var E=function(e){g&&e!==_.current&&(b(0),_.current.props.page!==0&&_.current.setProps({page:0}))},D=function(){return Math.ceil(S/f)},k=function(e){if(e>=D()||e<0||e===y)return null;b(e),_.current.setProps({page:e})};return T(`div`,{className:L(I(`pagination`),e.className.pagination)},T(O,null,i&&S>0&&T(`div`,{role:`status`,"aria-live":`polite`,className:L(I(`summary`),e.className.paginationSummary),title:w(`pagination.navigate`,y+1,D())},w(`pagination.showing`),` `,T(`b`,null,w(``+(y*f+1))),` `,w(`pagination.to`),` `,T(`b`,null,w(``+Math.min((y+1)*f,S))),` `,w(`pagination.of`),` `,T(`b`,null,w(``+S)),` `,w(`pagination.results`))),T(`div`,{className:I(`pages`)},c&&T(`button`,{tabIndex:0,role:`button`,disabled:y===0,onClick:function(){return k(y-1)},title:w(`pagination.previous`),"aria-label":w(`pagination.previous`),className:L(e.className.paginationButton,e.className.paginationButtonPrev)},w(`pagination.previous`)),function(){if(u<=0)return null;var t=Math.min(D(),u),n=Math.min(y,Math.floor(t/2));return y+Math.floor(t/2)>=D()&&(n=t-(D()-y)),T(O,null,D()>t&&y-n>0&&T(O,null,T(`button`,{tabIndex:0,role:`button`,onClick:function(){return k(0)},title:w(`pagination.firstPage`),"aria-label":w(`pagination.firstPage`),className:e.className.paginationButton},w(`1`)),T(`button`,{tabIndex:-1,className:L(I(`spread`),e.className.paginationButton)},`...`)),Array.from(Array(t).keys()).map(function(e){return y+(e-n)}).map(function(t){return T(`button`,{tabIndex:0,role:`button`,onClick:function(){return k(t)},className:L(y===t?L(I(`currentPage`),e.className.paginationButtonCurrent):null,e.className.paginationButton),title:w(`pagination.page`,t+1),"aria-label":w(`pagination.page`,t+1)},w(``+(t+1)))}),D()>t&&D()>y+n+1&&T(O,null,T(`button`,{tabIndex:-1,className:L(I(`spread`),e.className.paginationButton)},`...`),T(`button`,{tabIndex:0,role:`button`,onClick:function(){return k(D()-1)},title:w(`pagination.page`,D()),"aria-label":w(`pagination.page`,D()),className:e.className.paginationButton},w(``+D()))))}(),o&&T(`button`,{tabIndex:0,role:`button`,disabled:D()===y+1||D()===0,onClick:function(){return k(y+1)},title:w(`pagination.next`),"aria-label":w(`pagination.next`),className:L(e.className.paginationButton,e.className.paginationButtonNext)},w(`pagination.next`))))}function Ye(e,t){return typeof e==`string`?e.indexOf(`%`)>-1?t/100*parseInt(e,10):parseInt(e,10):e}function Xe(e){return e?Math.floor(e)+`px`:``}function Ze(e){var t=e.tableRef.cloneNode(!0);return t.style.position=`absolute`,t.style.width=`100%`,t.style.zIndex=`-2147483640`,t.style.visibility=`hidden`,T(`div`,{ref:function(e){e&&e.appendChild(t)}})}function Qe(e){if(!e)return``;var t=e.split(` `);return t.length===1&&/([a-z][A-Z])+/g.test(e)?e:t.map(function(e,t){return t==0?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(``)}var Y,X=new(function(){function e(){}var t=e.prototype;return t.format=function(e,t){return`[Grid.js] [`+t.toUpperCase()+`]: `+e},t.error=function(e,t){t===void 0&&(t=!1);var n=this.format(e,`error`);if(t)throw Error(n);console.error(n)},t.warn=function(e){console.warn(this.format(e,`warn`))},t.info=function(e){console.info(this.format(e,`info`))},e}());(function(e){e[e.Header=0]=`Header`,e[e.Footer=1]=`Footer`,e[e.Cell=2]=`Cell`})(Y||={});var $e=function(){function e(){this.plugins=void 0,this.plugins=[]}var t=e.prototype;return t.get=function(e){return this.plugins.find(function(t){return t.id===e})},t.add=function(e){return e.id?this.get(e.id)?(X.error(`Duplicate plugin ID: `+e.id),this):(this.plugins.push(e),this):(X.error(`Plugin ID cannot be empty`),this)},t.remove=function(e){var t=this.get(e);return t&&this.plugins.splice(this.plugins.indexOf(t),1),this},t.list=function(e){var t;return t=e!=null||e!=null?this.plugins.filter(function(t){return t.position===e}):this.plugins,t.sort(function(e,t){return e.order&&t.order?e.order-t.order:1})},e}();function et(e){var t=this,n=K();if(e.pluginId){var r=n.plugin.get(e.pluginId);return r?T(O,{},T(r.component,o({plugin:r},e.props))):null}return e.position===void 0?null:T(O,{},n.plugin.list(e.position).map(function(e){return T(e.component,o({plugin:e},t.props.props))}))}var Z=function(e){function t(){var t;return(t=e.call(this)||this)._columns=void 0,t._columns=[],t}s(t,e);var n=t.prototype;return n.adjustWidth=function(e,n,r){var i=e.container,a=e.autoWidth;if(!i)return this;var s=i.clientWidth,c={};n.current&&a&&(j(T(Ze,{tableRef:n.current}),r.current),c=function(e){var t=e.querySelector(`table`);if(!t)return{};var n=t.className,r=t.style.cssText;t.className=n+` `+I(`shadowTable`),t.style.tableLayout=`auto`,t.style.width=`auto`,t.style.padding=`0`,t.style.margin=`0`,t.style.border=`none`,t.style.outline=`none`;var i=Array.from(t.parentNode.querySelectorAll(`thead th`)).reduce(function(e,t){var n;return t.style.width=t.clientWidth+`px`,o(((n={})[t.getAttribute(`data-column-id`)]={minWidth:t.clientWidth},n),e)},{});return t.className=n,t.style.cssText=r,t.style.tableLayout=`auto`,Array.from(t.parentNode.querySelectorAll(`thead th`)).reduce(function(e,t){return e[t.getAttribute(`data-column-id`)].width=t.clientWidth,e},i)}(r.current));for(var l,u=d(t.tabularFormat(this.columns).reduce(function(e,t){return e.concat(t)},[]));!(l=u()).done;){var f=l.value;f.columns&&f.columns.length>0||(!f.width&&a?f.id in c&&(f.width=Xe(c[f.id].width),f.minWidth=Xe(c[f.id].minWidth)):f.width=Xe(Ye(f.width,s)))}return n.current&&a&&j(null,r.current),this},n.setSort=function(e,t){for(var n,r=d(t||this.columns||[]);!(n=r()).done;){var i=n.value;i.columns&&i.columns.length>0?i.sort=void 0:i.sort===void 0&&e?i.sort={}:i.sort?typeof i.sort==`object`&&(i.sort=o({},i.sort)):i.sort=void 0,i.columns&&this.setSort(e,i.columns)}},n.setResizable=function(e,t){for(var n,r=d(t||this.columns||[]);!(n=r()).done;){var i=n.value;i.resizable===void 0&&(i.resizable=e),i.columns&&this.setResizable(e,i.columns)}},n.setID=function(e){for(var t,n=d(e||this.columns||[]);!(t=n()).done;){var r=t.value;r.id||typeof r.name!=`string`||(r.id=Qe(r.name)),r.id||X.error(`Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.`),r.columns&&this.setID(r.columns)}},n.populatePlugins=function(e,t){for(var n,r=d(t);!(n=r()).done;){var i=n.value;i.plugin!==void 0&&e.add(o({id:i.id},i.plugin,{position:Y.Cell}))}},t.fromColumns=function(e){for(var n,r=new t,i=d(e);!(n=i()).done;){var a=n.value;if(typeof a==`string`||g(a))r.columns.push({name:a});else if(typeof a==`object`){var o=a;o.columns&&=t.fromColumns(o.columns).columns,typeof o.plugin==`object`&&o.data===void 0&&(o.data=null),r.columns.push(a)}}return r},t.createFromConfig=function(e){var n=new t;return e.from?n.columns=t.fromHTMLTable(e.from).columns:e.columns?n.columns=t.fromColumns(e.columns).columns:!e.data||typeof e.data[0]!=`object`||e.data[0]instanceof Array||(n.columns=Object.keys(e.data[0]).map(function(e){return{name:e}})),n.columns.length?(n.setID(),n.setSort(e.sort),n.setResizable(e.resizable),n.populatePlugins(e.plugin,n.columns),n):null},t.fromHTMLTable=function(e){for(var n,r=new t,i=d(e.querySelector(`thead`).querySelectorAll(`th`));!(n=i()).done;){var a=n.value;r.columns.push({name:a.innerHTML,width:a.width})}return r},t.tabularFormat=function(e){var t=[],n=e||[],r=[];if(n&&n.length){t.push(n);for(var i,a=d(n);!(i=a()).done;){var o=i.value;o.columns&&o.columns.length&&(r=r.concat(o.columns))}r.length&&(t=t.concat(this.tabularFormat(r)))}return t},t.leafColumns=function(e){var t=[],n=e||[];if(n&&n.length)for(var r,i=d(n);!(r=i()).done;){var a=r.value;a.columns&&a.columns.length!==0||t.push(a),a.columns&&(t=t.concat(this.leafColumns(a.columns)))}return t},t.maximumDepth=function(e){return this.tabularFormat([e]).length-1},a(t,[{key:`columns`,get:function(){return this._columns},set:function(e){this._columns=e}},{key:`visibleColumns`,get:function(){return this._columns.filter(function(e){return!e.hidden})}}]),t}(M),tt=function(){},nt=function(e){function t(t){var n;return(n=e.call(this)||this).data=void 0,n.set(t),n}s(t,e);var n=t.prototype;return n.get=function(){try{return Promise.resolve(this.data()).then(function(e){return{data:e,total:e.length}})}catch(e){return Promise.reject(e)}},n.set=function(e){return e instanceof Array?this.data=function(){return e}:e instanceof Function&&(this.data=e),this},t}(tt),rt=function(e){function t(t){var n;return(n=e.call(this)||this).options=void 0,n.options=t,n}s(t,e);var n=t.prototype;return n.handler=function(e){return typeof this.options.handle==`function`?this.options.handle(e):e.ok?e.json():(X.error(`Could not fetch data: `+e.status+` - `+e.statusText,!0),null)},n.get=function(e){var t=o({},this.options,e);return typeof t.data==`function`?t.data(t):fetch(t.url,t).then(this.handler.bind(this)).then(function(e){return{data:t.then(e),total:typeof t.total==`function`?t.total(e):void 0}})},t}(tt),it=function(){function e(){}return e.createFromConfig=function(e){var t=null;return e.data&&(t=new nt(e.data)),e.from&&(t=new nt(this.tableElementToArray(e.from)),e.from.style.display=`none`),e.server&&(t=new rt(e.server)),t||X.error(`Could not determine the storage type`,!0),t},e.tableElementToArray=function(e){for(var t,n,r=[],i=d(e.querySelector(`tbody`).querySelectorAll(`tr`));!(t=i()).done;){for(var a,o=[],s=d(t.value.querySelectorAll(`td`));!(a=s()).done;){var c=a.value;c.childNodes.length===1&&c.childNodes[0].nodeType===Node.TEXT_NODE?o.push((n=c.innerHTML,new DOMParser().parseFromString(n,`text/html`).documentElement.textContent)):o.push(ve(c.innerHTML))}r.push(o)}return r},e}(),at=typeof Symbol<`u`?Symbol.iterator||(Symbol.iterator=Symbol(`Symbol.iterator`)):`@@iterator`;function Q(e,t,n){if(!e.s){if(n instanceof $){if(!n.s)return void(n.o=Q.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Q.bind(null,e,t),Q.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var $=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var a=1&i?t:n;if(a){try{Q(r,1,a(this.v))}catch(e){Q(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?Q(r,1,t?t(i):i):n?Q(r,1,n(i)):Q(r,2,i)}catch(e){Q(r,2,e)}},r},e}();function ot(e){return e instanceof $&&1&e.s}var st=function(e){function t(t){var n;return(n=e.call(this)||this)._steps=new Map,n.cache=new Map,n.lastProcessorIndexUpdated=-1,t&&t.forEach(function(e){return n.register(e)}),n}s(t,e);var n=t.prototype;return n.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},n.register=function(e,t){if(t===void 0&&(t=null),!e)throw Error(`Processor is not defined`);if(e.type===null)throw Error(`Processor type is not defined`);if(this.findProcessorIndexByID(e.id)>-1)throw Error(`Processor ID `+e.id+` is already defined`);return e.on(`propsUpdated`,this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(e,t),this.afterRegistered(e),e},n.tryRegister=function(e,t){t===void 0&&(t=null);try{return this.register(e,t)}catch{}},n.unregister=function(e){if(e&&this.findProcessorIndexByID(e.id)!==-1){var t=this._steps.get(e.type);t&&t.length&&(this._steps.set(e.type,t.filter(function(t){return t!=e})),this.emit(`updated`,e))}},n.addProcessorByPriority=function(e,t){var n=this._steps.get(e.type);if(!n){var r=[];this._steps.set(e.type,r),n=r}if(t===null||t<0)n.push(e);else if(n[t]){var i=n.slice(0,t-1),a=n.slice(t+1);this._steps.set(e.type,i.concat(e).concat(a))}else n[t]=e},n.getStepsByType=function(e){return this.steps.filter(function(t){return t.type===e})},n.getSortedProcessorTypes=function(){return Object.keys(N).filter(function(e){return!isNaN(Number(e))}).map(function(e){return Number(e)})},n.process=function(e){try{var t=function(e){return n.lastProcessorIndexUpdated=i.length,n.emit(`afterProcess`,a),a},n=this,r=n.lastProcessorIndexUpdated,i=n.steps,a=e,o=function(e,t){try{var o=function(e,t,n){if(typeof e[at]==`function`){var r,i,a,o=e[at]();if(function e(n){try{for(;!(r=o.next()).done;)if((n=t(r.value))&&n.then){if(!ot(n))return void n.then(e,a||=Q.bind(null,i=new $,2));n=n.v}i?Q(i,1,n):i=n}catch(e){Q(i||=new $,2,e)}}(),o.return){var s=function(e){try{r.done||o.return()}catch{}return e};if(i&&i.then)return i.then(s,function(e){throw s(e)});s()}return i}if(!(`length`in e))throw TypeError(`Object is not iterable`);for(var c=[],l=0;l<e.length;l++)c.push(e[l]);return function(e,t,n){var r,i,a=-1;return function n(o){try{for(;++a<e.length;)if((o=t(a))&&o.then){if(!ot(o))return void o.then(n,i||=Q.bind(null,r=new $,2));o=o.v}r?Q(r,1,o):r=o}catch(e){Q(r||=new $,2,e)}}(),r}(c,function(e){return t(c[e])})}(i,function(e){var t=n.findProcessorIndexByID(e.id),i=function(){if(t>=r)return Promise.resolve(e.process(a)).then(function(t){n.cache.set(e.id,a=t)});a=n.cache.get(e.id)}();if(i&&i.then)return i.then(function(){})})}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}(0,function(e){throw X.error(e),n.emit(`error`,a),e});return Promise.resolve(o&&o.then?o.then(t):t())}catch(e){return Promise.reject(e)}},n.findProcessorIndexByID=function(e){return this.steps.findIndex(function(t){return t.id==e})},n.setLastProcessorIndex=function(e){var t=this.findProcessorIndexByID(e.id);this.lastProcessorIndexUpdated>t&&(this.lastProcessorIndexUpdated=t)},n.processorPropsUpdated=function(e){this.setLastProcessorIndex(e),this.emit(`propsUpdated`),this.emit(`updated`,e)},n.afterRegistered=function(e){this.setLastProcessorIndex(e),this.emit(`afterRegister`),this.emit(`updated`,e)},a(t,[{key:`steps`,get:function(){for(var e,t=[],n=d(this.getSortedProcessorTypes());!(e=n()).done;){var r=this._steps.get(e.value);r&&r.length&&(t=t.concat(r))}return t.filter(function(e){return e})}}]),t}(xe),ct=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){try{return Promise.resolve(this.props.storage.get(e))}catch(e){return Promise.reject(e)}},a(t,[{key:`type`,get:function(){return N.Extractor}}]),t}(F),lt=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){var t=P.fromArray(e.data);return t.length=e.total,t},a(t,[{key:`type`,get:function(){return N.Transformer}}]),t}(F),ut=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(e){return typeof e[1]!=`function`}).reduce(function(e,t){var n;return o({},e,((n={})[t[0]]=t[1],n))},{})},a(t,[{key:`type`,get:function(){return N.Initiator}}]),t}(F),dt=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.castData=function(e){if(!e||!e.length)return[];if(!this.props.header||!this.props.header.columns)return e;var t=Z.leafColumns(this.props.header.columns);return e[0]instanceof Array?e.map(function(e){var n=0;return t.map(function(t,r){return t.data===void 0?e[r-n]:(n++,typeof t.data==`function`?t.data(e):t.data)})}):typeof e[0]!=`object`||e[0]instanceof Array?[]:e.map(function(e){return t.map(function(t,n){return t.data===void 0?t.id?e[t.id]:(X.error(`Could not find the correct cell for column at position `+n+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null):typeof t.data==`function`?t.data(e):t.data})})},n._process=function(e){return{data:this.castData(e.data),total:e.total}},a(t,[{key:`type`,get:function(){return N.Transformer}}]),t}(F),ft=function(){function e(){}return e.createFromConfig=function(e){var t=new st;return e.storage instanceof rt&&t.register(new ut({serverStorageOptions:e.server})),t.register(new ct({storage:e.storage})),t.register(new dt({header:e.header})),t.register(new lt),t},e}(),pt=function(e){var t=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return t.state},this.getListeners=function(){return t.listeners},this.dispatch=function(e){if(typeof e!=`function`)throw Error(`Reducer is not a function`);if(t.isDispatching)throw Error(`Reducers may not dispatch actions`);t.isDispatching=!0;var n=t.state;try{t.state=e(t.state)}finally{t.isDispatching=!1}for(var r,i=d(t.listeners);!(r=i()).done;)(0,r.value)(t.state,n);return t.state},this.subscribe=function(e){if(typeof e!=`function`)throw Error(`Listener is not a function`);return t.listeners=[].concat(t.listeners,[e]),function(){return t.listeners=t.listeners.filter(function(t){return t!==e})}},this.state=e},mt=function(e,t){var n={__c:t=`__cC`+ y++,__:null,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(te)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(),ht=function(){function e(){Object.assign(this,e.defaultConfig())}var t=e.prototype;return t.assign=function(e){return Object.assign(this,e)},t.update=function(t){return t&&this.assign(e.fromPartialConfig(o({},this,t))),this},e.defaultConfig=function(){return{store:new pt({status:f.Init,header:void 0,data:null}),plugin:new $e,tableRef:{current:null},width:`100%`,height:`auto`,processingThrottleMs:100,autoWidth:!0,style:{},className:{}}},e.fromPartialConfig=function(t){var n=new e().assign(t);return typeof t.sort==`boolean`&&t.sort&&n.assign({sort:{multiColumn:!0}}),n.assign({header:Z.createFromConfig(n)}),n.assign({storage:it.createFromConfig(n)}),n.assign({pipeline:ft.createFromConfig(n)}),n.assign({translator:new He(n.language)}),n.plugin=new $e,n.search&&n.plugin.add({id:`search`,position:Y.Header,component:Ge}),n.pagination&&n.plugin.add({id:`pagination`,position:Y.Footer,component:Je}),n.plugins&&n.plugins.forEach(function(e){return n.plugin.add(e)}),n},e}();function gt(e){var t,n=K();return T(`td`,o({role:e.role,colSpan:e.colSpan,"data-column-id":e.column&&e.column.id,className:L(I(`td`),e.className,n.className.td),style:o({},e.style,n.style.td),onClick:function(t){e.messageCell||n.eventEmitter.emit(`cellClick`,t,e.cell,e.column,e.row)}},(t=e.column)?typeof t.attributes==`function`?t.attributes(e.cell.data,e.row,e.column):t.attributes:{}),e.column&&typeof e.column.formatter==`function`?e.column.formatter(e.cell.data,e.row,e.column):e.column&&e.column.plugin?T(et,{pluginId:e.column.id,props:{column:e.column,cell:e.cell,row:e.row}}):e.cell.data)}function _t(e){var t=K(),n=J(function(e){return e.header});return T(`tr`,{className:L(I(`tr`),t.className.tr),onClick:function(n){e.messageRow||t.eventEmitter.emit(`rowClick`,n,e.row)}},e.children?e.children:e.row.cells.map(function(t,r){var i=function(e){if(n){var t=Z.leafColumns(n.columns);if(t)return t[e]}return null}(r);return i&&i.hidden?null:T(gt,{key:t.id,cell:t,row:e.row,column:i})}))}function vt(e){return T(_t,{messageRow:!0},T(gt,{role:`alert`,colSpan:e.colSpan,messageCell:!0,cell:new ye(e.message),className:L(I(`message`),e.className?e.className:null)}))}function yt(){var e=K(),t=J(function(e){return e.data}),n=J(function(e){return e.status}),r=J(function(e){return e.header}),i=Ue(),a=function(){return r?r.visibleColumns.length:0};return T(`tbody`,{className:L(I(`tbody`),e.className.tbody)},t&&t.rows.map(function(e){return T(_t,{key:e.id,row:e})}),n===f.Loading&&(!t||t.length===0)&&T(vt,{message:i(`loading`),colSpan:a(),className:L(I(`loading`),e.className.loading)}),n===f.Rendered&&t&&t.length===0&&T(vt,{message:i(`noRecordsFound`),colSpan:a(),className:L(I(`notfound`),e.className.notfound)}),n===f.Error&&T(vt,{message:i(`error`),colSpan:a(),className:L(I(`error`),e.className.error)}))}var bt=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.validateProps=function(){for(var e,t=d(this.props.columns);!(e=t()).done;){var n=e.value;n.direction===void 0&&(n.direction=1),n.direction!==1&&n.direction!==-1&&X.error(`Invalid sort direction `+n.direction)}},n.compare=function(e,t){return e>t?1:e<t?-1:0},n.compareWrapper=function(e,t){for(var n,r=0,i=d(this.props.columns);!(n=i()).done;){var a=n.value;if(r!==0)break;var o=e.cells[a.index].data,s=t.cells[a.index].data;r|=typeof a.compare==`function`?a.compare(o,s)*a.direction:this.compare(o,s)*a.direction}return r},n._process=function(e){var t=[].concat(e.rows);t.sort(this.compareWrapper.bind(this));var n=new P(t);return n.length=e.length,n},a(t,[{key:`type`,get:function(){return N.Sort}}]),t}(F),xt=function(e,t,n,r){return function(i){var a,s=(a=i.sort)!=null&&a.columns?i.sort.columns.map(function(e){return o({},e)}):[],c=s.length,l=s.find(function(t){return t.index===e}),u=!1,d=!1,f=!1,p=!1;if(l===void 0?c===0?u=!0:c>0&&!n?(u=!0,d=!0):c>0&&n&&(u=!0):n?l.direction===-1?f=!0:p=!0:c===1?p=!0:c>1&&(d=!0,u=!0),d&&(s=[]),u)s.push({index:e,direction:t,compare:r});else if(p){var m=s.indexOf(l);s[m].direction=t}else if(f){var h=s.indexOf(l);s.splice(h,1)}return o({},i,{sort:{columns:s}})}},St=function(e,t,n){return function(r){var i=(r.sort?[].concat(r.sort.columns):[]).find(function(t){return t.index===e});return o({},r,i?xt(e,i.direction===1?-1:1,t,n)(r):xt(e,1,t,n)(r))}},Ct=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype._process=function(e){var t={};return this.props.url&&(t.url=this.props.url(e.url,this.props.columns)),this.props.body&&(t.body=this.props.body(e.body,this.props.columns)),o({},e,t)},a(t,[{key:`type`,get:function(){return N.ServerSort}}]),t}(F);function wt(e){var t=K(),n=q().dispatch,r=Ue(),i=H(0),a=i[0],s=i[1],c=t.sort,l=J(function(e){return e.sort}),u=typeof c?.server==`object`?N.ServerSort:N.Sort,d=function(){var e=t.pipeline.getStepsByType(u);if(e.length)return e[0]};return U(function(){var e=d()||(u===N.ServerSort?new Ct(o({columns:l?l.columns:[]},c.server)):new bt({columns:l?l.columns:[]}));return t.pipeline.tryRegister(e),function(){return t.pipeline.unregister(e)}},[t]),U(function(){if(l){var t=l.columns.find(function(t){return t.index===e.index});t?(a===0&&(t.direction=e.direction??1),s(t.direction)):s(0)}},[l]),U(function(){var e=d();e&&l&&e.setProps({columns:l.columns})},[l]),T(`button`,{tabIndex:-1,"aria-label":r(`sort.sort`+(a===1?`Desc`:`Asc`)),title:r(`sort.sort`+(a===1?`Desc`:`Asc`)),className:L(I(`sort`),I(`sort`,function(e){return e===1?`asc`:e===-1?`desc`:`neutral`}(a)),t.className.sort),onClick:function(t){t.preventDefault(),t.stopPropagation(),n(St(e.index,!0===t.shiftKey&&c.multiColumn,e.compare))}})}var Tt=function(e,t){var n;t===void 0&&(t=100);var r=Date.now(),i=function(){r=Date.now(),e.apply(void 0,[].slice.call(arguments))};return function(){var e=[].slice.call(arguments),a=Date.now()-r;a>=t?i.apply(void 0,e):(n&&clearTimeout(n),n=setTimeout(function(){i.apply(void 0,e),n=null},t-a))}};function Et(e){var t,n=function(e){return e instanceof MouseEvent?Math.floor(e.pageX):Math.floor(e.changedTouches[0].pageX)},r=function(r){r.stopPropagation();var o=parseInt(e.thRef.current.style.width,10)-n(r);t=Tt(function(e){return i(e,o)},10),document.addEventListener(`mouseup`,a),document.addEventListener(`touchend`,a),document.addEventListener(`mousemove`,t),document.addEventListener(`touchmove`,t)},i=function(t,r){t.stopPropagation();var i=e.thRef.current;r+n(t)>=parseInt(i.style.minWidth,10)&&(i.style.width=r+n(t)+`px`)},a=function e(n){n.stopPropagation(),document.removeEventListener(`mouseup`,e),document.removeEventListener(`mousemove`,t),document.removeEventListener(`touchmove`,t),document.removeEventListener(`touchend`,e)};return T(`div`,{className:L(I(`th`),I(`resizable`)),onMouseDown:r,onTouchStart:r,onClick:function(e){return e.stopPropagation()}})}function Dt(e){var t=K(),n=W(null),r=H({}),i=r[0],a=r[1],s=q().dispatch;U(function(){if(t.fixedHeader&&n.current){var e=n.current.offsetTop;typeof e==`number`&&a({top:e})}},[n]);var c,l=function(){return e.column.sort!=null},u=function(n){n.stopPropagation(),l()&&s(St(e.index,!0===n.shiftKey&&t.sort.multiColumn,e.column.sort.compare))};return T(`th`,o({ref:n,"data-column-id":e.column&&e.column.id,className:L(I(`th`),l()?I(`th`,`sort`):null,t.fixedHeader?I(`th`,`fixed`):null,t.className.th),onClick:u,style:o({},t.style.th,{minWidth:e.column.minWidth,width:e.column.width},i,e.style),onKeyDown:function(e){l()&&e.which===13&&u(e)},rowSpan:e.rowSpan>1?e.rowSpan:void 0,colSpan:e.colSpan>1?e.colSpan:void 0},(c=e.column)?typeof c.attributes==`function`?c.attributes(null,null,e.column):c.attributes:{},l()?{tabIndex:0}:{}),T(`div`,{className:I(`th`,`content`)},e.column.name===void 0?e.column.plugin===void 0?null:T(et,{pluginId:e.column.plugin.id,props:{column:e.column}}):e.column.name),l()&&T(wt,o({index:e.index},e.column.sort)),e.column.resizable&&e.index<t.header.visibleColumns.length-1&&T(Et,{column:e.column,thRef:n}))}function Ot(){var e,t=K(),n=J(function(e){return e.header});return n?T(`thead`,{key:n.id,className:L(I(`thead`),t.className.thead)},(e=Z.tabularFormat(n.columns)).map(function(t,r){return function(e,t,r){var i=Z.leafColumns(n.columns);return T(_t,null,e.map(function(e){return e.hidden?null:function(e,t,n,r){var i=function(e,t,n){var r=Z.maximumDepth(e),i=n-t;return{rowSpan:Math.floor(i-r-r/i),colSpan:e.columns&&e.columns.length||1}}(e,t,r);return T(Dt,{column:e,index:n,colSpan:i.colSpan,rowSpan:i.rowSpan})}(e,t,i.indexOf(e),r)}))}(t,r,e.length)})):null}var kt=function(e){return function(t){return o({},t,{header:e})}};function At(){var e=K(),t=W(null),n=q().dispatch;return U(function(){t&&n(function(e){return function(t){return o({},t,{tableRef:e})}}(t))},[t]),T(`table`,{ref:t,role:`grid`,className:L(I(`table`),e.className.table),style:o({},e.style.table,{height:e.height})},T(Ot,null),T(yt,null))}function jt(){var e=H(!0),t=e[0],n=e[1],r=W(null),i=K();return U(function(){r.current.children.length===0&&n(!1)},[r]),t?T(`div`,{ref:r,className:L(I(`head`),i.className.header),style:o({},i.style.header)},T(et,{position:Y.Header})):null}function Mt(){var e=W(null),t=H(!0),n=t[0],r=t[1],i=K();return U(function(){e.current.children.length===0&&r(!1)},[e]),n?T(`div`,{ref:e,className:L(I(`footer`),i.className.footer),style:o({},i.style.footer)},T(et,{position:Y.Footer})):null}function Nt(){var e=K(),t=q().dispatch,n=J(function(e){return e.status}),r=J(function(e){return e.data}),i=J(function(e){return e.tableRef}),a={current:null},s=Tt(function(){try{t(function(e){return o({},e,{status:f.Loading})});var n=function(n,r){try{var i=Promise.resolve(e.pipeline.process()).then(function(e){t(function(e){return function(t){return e?o({},t,{data:e,status:f.Loaded}):t}}(e)),setTimeout(function(){t(function(e){return e.status===f.Loaded?o({},e,{status:f.Rendered}):e})},0)})}catch(e){return r(e)}return i&&i.then?i.then(void 0,r):i}(0,function(e){X.error(e),t(function(e){return o({},e,{data:null,status:f.Error})})});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},e.processingThrottleMs);return U(function(){return t(kt(e.header)),s(),e.pipeline.on(`updated`,s),function(){return e.pipeline.off(`updated`,s)}},[]),U(function(){e.header&&n===f.Loaded&&r!=null&&r.length&&t(kt(e.header.adjustWidth(e,i,a)))},[r,e,a]),T(`div`,{role:`complementary`,className:L(`gridjs`,I(`container`),n===f.Loading?I(`loading`):null,e.className.container),style:o({},e.style.container,{width:e.width})},n===f.Loading&&T(`div`,{className:I(`loading-bar`)}),T(jt,null),T(`div`,{className:I(`wrapper`),style:{height:e.height}},T(At,null)),T(Mt,null),T(`div`,{ref:a,id:`gridjs-temp`,className:I(`temp`)}))}var Pt=function(e){function t(t){var n;return(n=e.call(this)||this).config=void 0,n.plugin=void 0,n.config=new ht().assign({instance:l(n),eventEmitter:l(n)}).update(t),n.plugin=n.config.plugin,n}s(t,e);var n=t.prototype;return n.updateConfig=function(e){return this.config.update(e),this},n.createElement=function(){return T(mt.Provider,{value:this.config,children:T(Nt,{})})},n.forceRender=function(){return this.config&&this.config.container||X.error(`Container is empty. Make sure you call render() before forceRender()`,!0),this.destroy(),j(this.createElement(),this.config.container),this},n.destroy=function(){this.config.pipeline.clearCache(),j(null,this.config.container)},n.render=function(e){return e||X.error(`Container element cannot be null`,!0),e.childNodes.length>0?(X.error(`The container element `+e+` is not empty. Make sure the container is empty and call render() again`),this):(this.config.container=e,j(this.createElement(),e),this)},t}(xe),Ft=e(n()),It=function(e,t){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},It(e,t)};function Lt(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);function n(){this.constructor=e}It(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Rt,zt=function(e){function t(t){var n=e.call(this,t)||this;return n.wrapper=(0,r.createRef)(),n.instance=null,n.instance=new Pt(t||{}),n}return Lt(t,e),t.prototype.getInstance=function(){return this.instance},t.prototype.componentDidMount=function(){this.wrapper.current.childNodes.length>0&&(this.wrapper.current.innerHTML=``),this.instance.render(this.wrapper.current)},t.prototype.componentDidUpdate=function(){this.instance.updateConfig(this.props).forceRender()},t.prototype.render=function(){return r.createElement(`div`,{ref:this.wrapper})},t}(r.Component),Bt=Ft.default;Rt=Bt.createRoot,Bt.hydrateRoot;var Vt=function(e){function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.ref=D(),t}return Lt(t,e),t.prototype.componentDidMount=function(){Rt(this.ref.current).render(this.props.element)},t.prototype.render=function(){return T(this.props.parent,{ref:this.ref})},t.defaultProps={parent:`div`},t}(k);function Ht(e,t){return T(Vt,{element:e,parent:t})}export{zt as Grid,Vt as ReactWrapper,Ht as _};